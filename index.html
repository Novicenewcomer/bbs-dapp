<!DOCTYPE html>
<html>
	<head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0">
        <meta name="format-detection" content="telephone=no">
        <title>八宝树DAPP</title>
        <link rel="stylesheet" type="text/css" href="css/public.css"/>
		<link rel="stylesheet" type="text/css" href="css/swiper.min.css"/>
		<link rel="stylesheet" type="text/css" href="css/index.css"/>
    </head>
	<body>
		<div class="mbdivbg">
			<div class="mbdivcon">
				<div class="scrollw_box">
					<div class="scrollw_con">
						<div class="index_topbox swiper-container">
							<ul class="clear swiper-wrapper">
								<li class="swiper-slide">
									<p>八宝树数量</p>
									<p><strong>154687</strong></p>
								</li>
								<li class="swiper-slide">
									<p>日计划挖矿(FF)</p>
									<p><strong>3015454</strong></p>
								</li>
								<li class="swiper-slide">
									<p>昨日挖矿(FF)</p>
									<p><strong>239028</strong></p>
								</li>
								<li class="swiper-slide">
									<p>单注算力产能</p>
									<p><strong>3.00</strong></p>
								</li>
							</ul>
						</div>
						<div class="index_topmdbox">
							<span class="active"></span><span></span>
						</div>
						<div class="index_treebox">
							<ul class="clear">
								<!-- 无树 -->
								<li class="oneli index_treeboxno">
									<div class="con">
										<p class="tit">领八宝树</p>
										<div class="clear">
											<p class="text">每日挖矿收FF，集德星抽奖限量60万株</p>
											<a class="treefreecollectionbtn" href="#">免费领取</a>
										</div>
									</div>
								</li>
								<!-- 有树 -->
								<li class="oneli index_treeboxhas">
									<a href="#" class="con">
										<div class="index_treenameb">
											<span class="ico"><svg class="icon" aria-hidden="true"><use xlink:href="#iconyinliang"></use></svg></span>
											<p class="code">bb#254875</p>
											<p class="mjico"><span>满级</span></p>
											<p class="rightjt"><span>
												<svg class="icon" aria-hidden="true"><use xlink:href="#iconjiantou"></use></svg>
											</span></p>
										</div>
										<div class="mytreemsgbox swiper-container-v">
											<ul class="swiper-wrapper">
												<li class="swiper-slide clear">
													<div class="lic">
														<p>待收取FF</p>
														<p><strong>2107.0000</strong></p>
													</div>
													<div class="lic">
														<p>待收取德星</p>
														<p><strong>0</strong></p>
													</div>
													<div class="lic">
														<p>综合算力(注)</p>
														<p><strong>210.2817</strong></p>
													</div>
												</li>
												<li class="swiper-slide">
													<div class="lic">
														<p>累计挖矿FF</p>
														<p><strong>281707.2700</strong></p>
													</div>
													<div class="lic">
														<p>累计挖矿时长</p>
														<p><strong>327天</strong></p>
													</div>
													<div class="lic">
														<p>综合估值FF</p>
														<p><strong>281707.2700</strong></p>
													</div>
												</li>
											</ul>
										</div>
									</a>
								</li>
								<!-- 抽奖 -->
								<li class="oneli index_treeboxcj">
									<a href="#" class="con">
										<div class="titbox">
											<span class="ico"><svg class="icon" aria-hidden="true"><use xlink:href="#iconiconyinliang"></use></svg></span>
											<div class="textb">
												<p class="tit">德星抽奖</p>
												<p class="text1">折合：402765.00 CNY</p>
											</div>
										</div>
										<p class="text2"><strong>467899</strong> TRX</p>
									</a>
								</li>
							</ul>
						</div>
						<div class="index_noticebox">
							<span class="index_noticeico"><svg class="icon" aria-hidden="true"><use xlink:href="#icongonggao2"></use></svg></span>
							<div class="index_noticetextbox">
								<p>游戏系统通知公告内容标题文字，可上下翻滚最多两行游戏系统通知公告内容标题文字，可上下翻滚最多两行</p>
							</div>
						</div>
						<div class="index_taskbox">
							<div class="conbox clear">
								<a href="#" class="leftw">
									<div class="leftbox">
										<svg class="icon" aria-hidden="true"><use xlink:href="#iconjiangpin"></use></svg>
									</div>
									<div class="midbox">
										<p class="text1">任务中心</p>
										<p class="text2">做任务，赚取奖励</p>
									</div>
								</a>
								<div class="rightbox">
									<a href="#"><span><svg class="icon" aria-hidden="true"><use xlink:href="#iconwanzhuanbabaoshu"></use></svg></span>玩转八宝树</a>
									<a href="#"><span><svg class="icon" aria-hidden="true"><use xlink:href="#iconbangzhu1"></use></svg></span>帮助中心</a>
								</div>
							</div>
						</div>
						<div class="index_invitefidsbox">
							<a href="#" class="conbox">
								<p class="tit">邀请好友</p>
								<p class="text">立享好友挖矿及分红收益额5%奖励</p>
							</a>
						</div>
						<!-- <div class="index_adlistbox">
							<ul class="index_adlist">
								<li data-src="lsimg/gg1.jpg">
									<a ihref="#" iid="1">
									   <i></i>
									</a>
								</li>
								<li data-src="lsimg/gg2.jpg">
									<a ihref="#" iid="2">
									   <i></i>
									</a>
								</li>
								<li data-src="lsimg/gg1.jpg">
									<a ihref="#" iid="1">
									   <i></i>
									</a>
								</li>
								<li data-src="lsimg/gg2.jpg">
									<a ihref="#" iid="2">
									   <i></i>
									</a>
								</li>
								<li data-src="lsimg/gg1.jpg">
									<a ihref="#" iid="1">
									   <i></i>
									</a>
								</li>
								<li data-src="lsimg/gg2.jpg">
									<a ihref="#" iid="2">
									   <i></i>
									</a>
								</li>
								<li data-src="lsimg/gg1.jpg">
									<a ihref="#" iid="1">
									   <i></i>
									</a>
								</li>
								<li data-src="lsimg/gg2.jpg">
									<a ihref="#" iid="2">
									   <i></i>
									</a>
								</li>
								<li data-src="lsimg/gg1.jpg">
									<a ihref="#" iid="1">
									   <i></i>
									</a>
								</li>
								<li data-src="lsimg/gg2.jpg">
									<a ihref="#" iid="2">
									   <i></i>
									</a>
								</li>
								<li data-src="lsimg/gg1.jpg">
									<a ihref="#" iid="1">
									   <i></i>
									</a>
								</li>
								<li data-src="lsimg/gg2.jpg">
									<a ihref="#" iid="2">
									   <i></i>
									</a>
								</li>
	                        </ul>
						</div> -->
						
					</div>
				</div>
			</div>
			<!-- <div class="index_adrighttit">
				<span><svg class="icon" aria-hidden="true"><use xlink:href="#iconstar"></use></svg></span>
				<span><svg class="icon" aria-hidden="true"><use xlink:href="#iconstar"></use></svg></span>
				<span><svg class="icon" aria-hidden="true"><use xlink:href="#iconstar"></use></svg></span>
				<p></p>
			</div> -->
		</div>
	</body>
	<script src="js/jquery.js"></script>
	<script src="js/public.js"></script>
	<script src="js/swiper.min.js" type="text/javascript" charset="utf-8"></script>
	<script>
		landpubfloObj.init("1");////登陆1  未登录0
		//底部导航
		linkOpenpage.pagebottomnav=function(othis){
			othis.loadHtmlobj({
				csslink:["css/pages/pagebottomnav.css"],
				jssrc:["js/pages/pagebottomnav.js"],
				callbackfn:function(thisobj){
					pagebottomnav.init({container:othis,type:"index"});
					pagebottomnav.thisdom.load("pagebottomnav.html",function(){
						pagebottomnav.showbox();
						$(".scrollw_con").css("padding-bottom",parseFloat(pagebottomnav.thisdom.css("height")))
						thisobj.endfn();
						linkOpenpage.readpage();
					})
				}
			})
		};
		
		linkOpenpage.readpage({
			pagearr:["pagebottomnav"],
			othis:$(".mbdivcon")
		});
		$(function(){
			var swiper = new Swiper('.swiper-container', {
				slidesPerView: 3,
				spaceBetween: 0,
				grabCursor : true,
				on: {
					slideChangeTransitionEnd: function(){
						$(".index_topmdbox span").eq(this.activeIndex).addClass("active").siblings().removeClass("active")
					},
				},
			});
			// var swiperB = new Swiper('.swiper-container1',{
			// 	autoplay: {
			// 		delay: 6000,//1秒切换一次
			// 		disableOnInteraction: false,
			// 	},
			// 	grabCursor : true,
			// 	loop : true,
			// });
			var swiperV = new Swiper('.swiper-container-v', {
			  autoplay: {
				delay: 3000,//1秒切换一次
				disableOnInteraction: false,
			  },
			  direction: 'vertical',
			  spaceBetween: 0
			});
			
			aroundslide.init();
			autonoticefn.init();
		})
		
		var aLi = $(".index_adlist li");
		/* 创建img标签函数 */
		function createImg(obj){
		    var srcp = '';
		    if(obj.attr("data-src")){
		        srcp = obj.attr("data-src");
		    }else{
		        obj.remove();
		    }
		    if(obj.find("img").length<1){
		        obj.find("a").append('<img src="'+srcp+'"/>');
		        obj.find("i").hide();
		    }
		}
		/* 计算节点到文档顶部的距离 */
		function getTop(obj){
		    var h = 0;
		    while(obj){
		        h += obj.offsetTop;
		        obj = obj.offsetParent;
		    }
		    return h;
		}
		/* 页面加载完便执行一次滚动函数 */
		window.onload = function(){
		    readimglozy()
		}
		/* 滚动实时计算所到区域并进行相关计算 */
		$(".scrollw_box").on("scroll",function(){
		    readimglozy()
		})

		function readimglozy (){
			var t =$(".scrollw_box").outerHeight() + $(".scrollw_box").scrollTop();
		    for(var i=0;i<aLi.length;i++){
		        if(getTop(aLi.eq(i).get(0))<t){
		            setTimeout('createImg(aLi.eq('+i+'))',500)
		        }
		    }
		}
		
		var aroundslide = {
			thisw:$(".index_treebox ul"),
			ac:0,
			init:function(){
				var _this = this;
				_this.readli();
				if(IsPC()){
					this.pcevent();
				}else{
					this.ydevent();
				}
				_this.autofn();
			},
			pcevent:function(){
				var _this = this;
				var open = false;
				var startX;
				var startY;
				var moveEndX;
				var moveEndY;
				this.thisw.on("mousedown", function(e) {
					var e = e || window.event;
					// ev.clientX  、ev.screenX 、ev.pageX
					open = true;
					startX = e.clientX,
					startY = e.clientY;
					clearInterval(_this.timer)
					e.preventDefault();
				});
				$("body").on("mouseup", function(e) {
					var e = e || window.event;
					if(open){			    
						moveEndX = e.clientX,
						moveEndY = e.clientY,
						X = moveEndX - startX,
						Y = moveEndY - startY;
						//左滑
						if (Math.abs(-X)>Math.abs(-Y)&&X > 0 ) {
							_this.ac--;
							if(_this.ac<0){
								_this.ac = _this.thisw.children(".oneli").length-1
							}
							_this.readli();
						}
						//右滑
						else if (Math.abs(-X)>Math.abs(-Y)&& X < 0 ) {
							_this.ac++;
							if(_this.ac>_this.thisw.children(".oneli").length-1){
								_this.ac = 0
							}
							_this.readli();
						}
						_this.autofn();
					}
				});
			},
			ydevent:function(){
				var _this = this;
				var open = false;
				var startX;
				var startY;
				var moveEndX;
				var moveEndY;
				this.thisw.on("touchstart", function(e) {
					open = true;
					startX = e.originalEvent.changedTouches[0].pageX,
					startY = e.originalEvent.changedTouches[0].pageY;
					clearInterval(_this.timer)
				});
				$("body").on("touchend", function(e) {		
					if(open){			    
						moveEndX = e.originalEvent.changedTouches[0].pageX,
						moveEndY = e.originalEvent.changedTouches[0].pageY,
						X = moveEndX - startX,
						Y = moveEndY - startY;
						//左滑
						if (Math.abs(-X)>Math.abs(-Y)&&X > 0 ) {
							_this.ac--;
							if(_this.ac<0){
								_this.ac = _this.thisw.children(".oneli").length-1
							}
							_this.readli();
						}
						//右滑
						else if (Math.abs(-X)>Math.abs(-Y)&& X < 0 ) {
							_this.ac++;
							if(_this.ac>_this.thisw.children(".oneli").length-1){
								_this.ac = 0
							}
							_this.readli();
						}
						_this.autofn();
					}
				});
			},
			readli:function(){
				this.thisw.children(".oneli").eq(this.ac).addClass("active").siblings().removeClass("active");
			},
			autofn:function(){
				var _this = this;
				clearInterval(_this.timer)
				_this.timer = setInterval(function(){
					_this.ac++;
					if(_this.ac>_this.thisw.children(".oneli").length-1){
						_this.ac = 0
					}
					_this.readli();
				},6500)
			}
		}
		var autonoticefn = {
			thisd:$(".index_noticetextbox"),
			this_p:$(".index_noticetextbox p"),
			timer:null,
			numtop:0,
			init:function(){
				var _this = this;
				if(_this.this_p.outerHeight()>_this.thisd.outerHeight()){
					_this.this_p.after('<p class="textcopy">'+_this.this_p.html()+'</p>');
					_this.move()
				}
			},
			move:function(){
				var _this = this;
				this.timer = setInterval(function(){
					if(_this.numtop==0||_this.numtop%_this.thisd.outerHeight()==0){
						clearInterval(_this.timer)
						clearInterval(_this.timer1)
						_this.timer1 = setTimeout(function(){
							_this.numtop++;
							_this.thisd.scrollTop(_this.numtop) ;
							_this.move()
						},3000)
					}
					if(_this.numtop==_this.this_p.outerHeight()) {
						_this.numtop = 0;
					}else{
						_this.numtop++;
						_this.thisd.scrollTop(_this.numtop) ;
					}
				},50)
			}
		}
	</script>
</html>
